---

layout: post
title: "《衍生证券教程》第四章 波动率的估计和建模 笔记"
description: ""
author:     "Hao"
category: true
tagline: "衍生品"
tags: [finance math , derivative pricing]

---
格式更好的[html版本](https://www.fanghao.work/2025/11/19/%E8%A1%8D%E7%94%9F%E8%AF%81%E5%88%B8%E6%95%99%E7%A8%8B-Chapter4-%E6%B3%A2%E5%8A%A8%E7%8E%87%E7%9A%84%E4%BC%B0%E8%AE%A1%E5%92%8C%E5%BB%BA%E6%A8%A1/)
大量证据表明，波动率确实是以随机方式随时间变化的。

## 统计复习

给定容量为N的样本$x_1,\cdots,x_N$，样本来自均值为$\mu$、方差为$\sigma$的总体。

$\mu$的最优估计为样本均值：

$$
\bar{x} = \frac{1}{N}\sum_{i=1}^{N}x_{i}
$$

总体的方差为$(x-\mu)^2$的数学期望，因此方差的估计显然应该为$(x_i-\mu)^2$的平均值，并用$\bar{x}$代替其中的$\mu$，即

$$
\frac{1}{N}\sum_{i=1}^N(x_i-\bar{x})^2
$$

但$\bar{x}$是从$x_i$中算出的，$x_i$对$\bar{x}$的偏离平均来看比对真正的均值$\mu$的偏离要小，因此上面给出的估计量平均来看要小于$\sigma^2$。要消除估计偏差，只需用因子N/(N-1)对上面的估计量进行调整，由此得出：

$$
 s^2=\frac{1}{N-1}\sum_{i=1}^N(x_i-\bar{x})^2
$$

而$\sigma$的最优估计为平方根

$$
 s=\sqrt{\frac{1}{N-1}\sum_{i=1}^N(x_i-\bar{x})^2}
$$

从$s^2$的计算中，注意到：

$$
\begin{align*}
\sum_{i=1}^N(x_i-\bar{x})^2&= \sum_{i=1}^{N}(x_{i}^{2}-2 x_{i} \bar{x}+\bar{x}^{2}) \\
&= \sum_{i=1}^{N} x_{i}^{2}-2 \bar{x} \sum_{i=1}^{N} x_{i}+\sum_{i=1}^{N} \bar{x}^{2} \\
&= \sum_{i=1}^{N} x_{i}^{2}-2 \bar{x}(N \bar{x})+N \bar{x}^{2} \\
&= \sum_{i=1}^{N} x_{i}^{2}-N \bar{x}^{2}

\end{align*}
$$

因此

$$
s=\sqrt{\frac{1}{N-1}(\sum_{i=1}^N x_i^2-N\bar{x}^2)}
$$

当从一个总体中多次抽样时，$\bar{x}$的变差大小很重要，变差越大，以单个样本的$\bar{x}$作为参数$\mu$的估计可靠性越差。在反复抽样中得出的$\bar{x}$的方差为$\sigma^2/N$，而方差$\sigma^2$的最优估计为$\sigma^2/N$，因此的出$\bar{x}$的标准误为$\sigma/\sqrt{N}$。用$s/\sqrt{N}$作为标准误的估计，即

> The variance of $\bar{x} = (1/N )(x_1 + \cdots + x_N )$ is, by independence of the $x_i$ , equal to
> $(1/N )2 (var x_1 + · · · + var x_N )$, and, because the $x_i$ all have the same variance $σ^2$ ,
> this is equal to $(1/N )^2 × N σ^2 = σ^2 /N$ .

$$
    \sqrt{\frac{1}{N(N-1)}(\sum_{i=1}^N x_i^2-N\bar{x}^2)}
$$

如果抽样总体x服从正态分布，$\mu$的95%的置信区间为$\bar{x}$加减1.96倍的标准误。即使x不服从正态分布，中心极限定理表明当样本容量足够大时，\\bar{x}/\\sqrt{N}近似服从正态分布。

## 不变波动率的估计和均值的估计

$$
\begin{align*}
    &\frac{dS}{S}=\mu dt+ \sigma dB\\
\Rightarrow &d\log S =(\mu-\frac{1}{2}\sigma^2)dt+\sigma dB\\
\Rightarrow & \Delta \log S =(\mu-\frac{1}{2}\sigma^2)\Delta t+\sigma \Delta B \tag{4.1}\\

\end{align*}

$$

假设在时间$0=t_0<t_1<\cdots <t_N=T$观测到资产的价格S，时间间隔为$t_i-t_{i-1}=\Delta t$。
如果资产支付红利，则S取为资产及由红利进行再投资所购买资产股份形成的投资组合的价值。
因此，通常情况下$S(t_i)/S(t_{i-1})$表示$t_{i-1}$到$t_i$的总投资（1加上总收益率）。总收益率并不按连续复利计息，也不进行年利率化。
年利率化的连续复利收益率$r_i$定义为

$$
    \frac{S(t_i)}{S(t_{i-1})}=e^{r_i\Delta t}
$$

由此得出：

$$
r_{i}=\frac{\log S(t_{i})-\log S(t_{i-1})}{\Delta t}=\mu-\frac{1}{2}\sigma^{2}+\sigma\frac{B(t_{i})-B(t_{i-1})}{\Delta t} \tag{4.2}
$$

$B(t_i)-B(t_{i-1})$服从均值为0,方差为$\Delta t$的正态分布，因此样本${r_1,r_2,\cdots,r_N}$是独立随机变量序列，每个变量服从均值为$\mu-\sigma^2/2$、方差为$\sigma^2/\Delta t$的正态分布。
现在估计$\sigma^2$。
为了简化符号，定义：

$$
y_{i}=r_{i}\sqrt{\Delta t}=\frac{\log S(t_{i})-\log S(t_{i-1})}{\sqrt{\Delta t}} \tag{4.3}
$$

样本${y_1,y_2,\cdots,y_N}$是独立随机变量序列，每个变量服从均值为$(\mu-\sigma^2/2)\sqrt{\Delta t}$，方差为$\sigma^2$的正态分布。

>为什么定义$y_i$而不是直接用$r_i$？
>直接使用$r_i$进行估计在理论上是可行的，但会带来不必要的复杂性。定义$y_i$的主要目的是简化对波动率$σ^2$的估计过程，具体原因如下:
>+ **方差标准化**： $r_i$的方差是 $Δtσ^2$，这意味着在计算样本方差时，结果会受Δt的影响。例如，如果使用不同频率的数据（如日度或周度），$r_i$的方差会缩放，导致估计公式需要调整。而$y_i$的方差直接是$σ^2$，与Δt无关，这使得估计量更统一和稳定。
>+ **估计公式的简化**：
>对于 $y_i$，波动率 $σ^2$的最佳估计量是样本方差：
>$$
>σ^2=\frac{1}{N−1}∑_{i=1}^N(y_i−\bar{y})^2
>$$
>这个公式与常见的方差估计形式一致（除以N−1是为了无偏性）。如果直接用 $r_i$，估计量就会变成$\frac{1}{N−1}∑_{i=1}^N(r_i−\bar{r})^2$，但其期望值为$\frac{\sigma^2}{\Delta t}$，而不是$\sigma^2$，因此需要额外乘以 Δt来调整，增加了步骤。
>$y_i$的定义思路来源
>这种定义不是随意的，而是源于数理统计和金融时间序列分析的常见技巧：
>+ 标准化思想：
>在统计学中，当变量的方差依赖于某个参数（如时间间隔）时，常通过缩放使其“标准化”（standardize），得到方差恒定的新变量。类似思想也出现在白噪声处理或波动率建模中（如GARCH模型）。这里，$y_i$的本质是将收益率$r_i$标准化，使得新序列的方差恒定（homoscedastic），便于应用经典统计推断。
>+ 从连续时间模型推导
>几何布朗运动是连续时间模型，但实际数据是离散的。定义$y_i$是为了让离散估计与连续理论衔接：当Δt很小时，$y_i$近似于布朗运动的增量σdB，其方差直接反映$σ^2$。


根据上一节给出的结论，y均值的最优估计为样本均值：

$$
\bar{y}=\frac{1}{N}\sum_{i=1}^Ny_i
$$

$\sigma^2$的最优估计为：

$$
\hat{\sigma}^2=\frac{1}{N-1}\sum_{i=1}^N(y_i-\bar{y})^2
$$

这说明$\mu$可以估计为

$$
\bar{y}=\hat{\mu}-\frac{1}{2}\sigma^2 \Rightarrow \hat{\mu}=\frac{\bar{y}}{\sqrt{\Delta t}}+\frac{1}{2}\hat{\sigma}^2=\bar{r}+\frac{1}{2}\hat{\sigma}^2
$$

> 现在讨论$\hat{\mu}$作为$\mu$估计量的可靠性。
>
> $$
> \begin{aligned}
> \bar{r} &=\frac{\sum_{i=1}^{N}\left[\log S\left(t_{i}\right)-\log S\left(t_{i-1}\right)\right]}{N\Delta t}\\
> &=\frac{\log S(T)-\log S(0)}{N\Delta t}\\
> &=\frac{\log S(T)-\log S(0)}{T}.
> \end{aligned} \tag{4.4}
> $$
>
> 因此$\mu$估计量$\hat{\mu}$的第一项$\bar{r}$只与S在时间区间上的总变化量有关，其可靠性与在时间区间$[0,T]$上观测到多少个S值无关。
> $\bar{r}$的标准差等于$[\log S(T)-\log S(0)]/T$的标准差（即式（4.13）），即$\sigma / \sqrt{T}$。这个标准差往往很大，在实际使用中没有什么价值。

$\sigma$很容易估计。由上一节，前面内容中定义的$\hat{\sigma}^2$可以计算为

$$
\frac{1}{N-1}\sum_{i=1}^N y_i^2-\frac{N\bar{y}^2}{N-1} \tag{4.5}
$$

从$y_i$的定义(4.3)和(4.5)中得出

$$
\bar{y}=\frac{\sqrt{\Delta t}}{T}[\log S(T)-\log S(0)]
$$

因此，(4.5)中的第二项为

$$
\frac{N}{N-1}(\frac{\Delta t}{T^2})[\log S(T)-\log S(0)]^2
$$

如果观测到的股价数据频率足够高，$\Delta t$足够小，这一项就可以忽略不计，$\hat{\sigma}^2$近似等于

$$
    \begin{align*}
\frac{1}{N-1}\sum_{i=1}^{N}y_{i}^{2} &= \frac{1}{N-1}\sum_{i=1}^{N}\frac{\left[\log S(t_{i})-\log S\left(t_{i-1}\right)\right]^{2}}{\Delta t}  \tag{4.6}\\
&= \frac{N}{N-1}\times\frac{1}{T}\times\sum_{i=1}^{N}\left[\log S(t_{i})-\log S\left(t_{i-1}\right)\right]^{2}.\tag{4.7}
\end{align*}
$$

如果观测到的S更多，频率更高，令$\Delta \rightarrow 0$，$N\rightarrow \infty$，和式

$$
\sum_{i=1}^N[\log S(t_i)-\log S(t_{i-1})]^2
$$

以概率1收敛到$\sigma^2T$，这说明$\hat{\sigma}^2$收敛到$\sigma^2$。
因此，从理论上讲，只要以足够高的频率观测S ，对$\sigma^2$的估计可以达到任何想要达到的精度，不管总时间区间$[0,T]$多短都是正确的。
这在实际中是做不到的。如果观测的是每分钟数据，甚至是每笔交易数据，交易价格在买方报价和卖方报价之间的跳动成为价格S变动的一部分，这部分变动不是我们所要估计的。如果取周数据甚至日数据，这种波动在股票价格总波动中所起的作用就大大减少。因此，在实际中，存在一个S的观测频率极限。
不过，如果$\sigma^2$真是一个常数，仍然可以以任意高的精度估计它。实际上，可以以足够的精度估计波动率从而判断它是否真是一个常数。我们面临的真正问题是对可变波动率进行估计和建模。

## 可变波动率的估计
假定：固定观测区间$\Delta t$，且观测区间足够小（1天或1周），讨论的重点在于估计（4.7）。
将估计式中的和式除以N-1而不是N,是因为样本标准差常常低估实际标准差,因为样本标准差是采用样本均值来计算的,而样本均值比实际均值更接近每个$x_i$.但是,(4.7)中并没有用到样本均值(用0代替了样本均值),没有必要对求和式进行上述调整.因此,对波动率的估计将以估计式:
$$
\frac{1}{T}\sum_{i=1}^{N}\left[\log S\left(t_{i}\right)-\log S\left(t_{i-1}\right)\right]^{2}=\frac{1}{N}\sum_{i=1}^{N}y_{i}^{2}
$$
为出发点。
如果波动率是随时间变化的，一个自然选择是尽量避免采用离现在较远的历史数据，这些数据包含的用于估计当前波动率的信息很少。但距离现在多远的数据才可以看做无信息的数据并不清楚。
在一个合理的估计量中，每个历史数据对估计值的影响应该随时间的推移平稳地减少。
为此，采用估计量：
$$
    \hat{\sigma}^2_{i+1}=(1-\lambda)y_i^2+\lambda \hat{\sigma}_i^2 \tag{4.8}
$$
其中$\lambda$为常数，并且$0<\lambda<1$, $\hat{\sigma}$表示时间$t_i$到$t_{i+1}$之间波动率的估计值。
按照这种方法得出波动率下一期估计值为
$$
    \hat{\sigma}^2_{i+2}=(1-\lambda)y_{i+1}^2+\lambda \hat{\sigma}_{i+1}^2 =(1-\lambda)y^2_{i+1}+\lambda(1-\lambda)y_i^2+\lambda^2\hat{\sigma}_i^2
$$

这种方法也可以用来估计协方差，只需要将离差平方$y_i^2$用两个不同资产价格离差的乘积代替（$\frac{1}{N}\sum_{i=1}^N[(\log S_1(t_i)-\log S_1(t_{i-1}))(\log S_2(t_i)-\log S_2(t_{i-1}))]$）。当然，给出了方差和协方差估计之后，可以计算出相关系数的估计。为保证估计出的相关系数在-1到+1之间，估计协方差和方差必须采用相同的$\lambda$。

## GARCH模型
在风险中性测度下进行推导
$$
\log S(t_{i+1})-\log S(t_i)=(r-q-\frac{1}{2}\sigma^2_{i+1})\Delta t+\sigma_{i+1}\Delta B \tag{4.9}
$$
假定时间$t_i$到$t_{i+1}$之间的波动率$\sigma_{i+1}$由
$$
\sigma_{i+1}^2=a+b y_i^2+c\sigma_i^2 \tag{4.10}
$$
给出，其中$a>0,b\geq 0, c \geq 0$为常数，其中$y_i$定义为
$$
    y_i=\frac{\log S(t_i)-\log S(t_{i-1})-(r-q-\sigma_i^2/2)\Delta t}{\sqrt{\Delta t}} \sim \mathcal{N}(0,\sigma_i^2)
$$
(4.10)是GARCH(1,1)过程。
假定b+c<1，可以将方差方程写成比（4.8）更一般的形式，即
$$
    \sigma^2_{i+1}=\kappa \theta +(1-\kappa)[(1-\lambda)y_i^2 +\lambda \sigma_i^2] \tag{4.11}
$$
其中$\lambda=c/(b+c),\kappa =1-b-c, \theta=a/(1-b-c)$。因此，$\sigma_{i+1}^2$是两部分的加权平均，权重分别为$\kappa$和$1-\kappa$，第一部分是常数$\theta$，第二部分是$y_i^2$和$\sigma^2_i$的加权平均。不管$t_i$处的方差是多少，如果$t_j$为离$t_i$很远的未来某一时间，中间状态$y_{i+1},y_{i+2},\cdots$未知，则$y_i$在$t_j$处的方差近似等于常数$\theta$，与$t_i$处的方差无关。
常数$\theta$被称为“无条件方差”，而$\sigma_i^2$称为$y_i$的“条件方差”。
>证明：
>由定义可知$E_{t_i}[y_{i+1}^2]=\sigma^2_{i+1}$，因此（4.11）说明
>$$
>    >\mathbb{E}_{t_{i+1}}[\sigma^2_{i+2}]=\kappa\theta+(1-\kappa)[(1-\lambda)\mathbb{E}_{t_i}[y_{i+1}^2]+\lambda \sigma^2_{i+1}]=\kappa\theta +(1-\kappa)\sigma^2_{i+1}
>$$
>相同的推导可以得出
>$$
>    \mathbb{E}_{i+1}[\sigma_{i+3}^2]=\kappa \theta+(1-\kappa)\sigma_{i+2}^2
>$$
>两边取$t_i$处的数学期望得出
>$$
>\begin{aligned}
>E_{t_{i}}\left[\sigma_{i+3}^{2}\right]=E_{t_{i}}\left[E_{t_{i+1}}\left[\sigma_{i+3}^{2}\right]\right] & =\kappa \theta+(1-\kappa) E_{t_{i}}\left[\sigma_{i+2}^{2}\right]\\
>& =\kappa \theta+(1-\kappa)\left[\kappa \theta+(1-\kappa)\sigma_{i+1}^{2}\right]\\
>& =\kappa \theta[1+(1-\kappa)]+(1-\kappa)^{2}\sigma_{i+1}^{2}
>\end{aligned}
>$$
>将这个公式一般化得出
>$$
    \mathbb{E}_{t_i}[\sigma^2_{i+n}]=\kappa \theta [1+(1-\kappa)+\cdots (1-\kappa)^{n-2}]+(1-\kappa)^{n-1}\sigma^2_{i+1}
$$
>由此看出,在对未来波动率的预测中,当前波动率$\sigma_{i+1}^2$的作用以速率$\kappa$衰减.当$n\rightarrow \infty$时,几何级数
>$$
>1+(1-\kappa)+\cdots + (1-\kappa)^{n-2}
$$
>收敛到$1/\kappa$,由此得出
>$$
>\mathbb{E}_{t_i}[\sigma^2_{i+n}]\rightarrow \theta
$$
>这说明对遥远未来的条件方差的最优估计近似等于无条件方差$\theta$.

波动率方程最有意义的特征,是大的收益(绝对值)会导致方差的增加,并因此既有可能导致随后一个更大的收益率(正的或负的).这就是=="波动集聚"==,它是实际市场上经常观测到的一种现象.
这一特征也说明,收益的分布是"厚尾"的(或者更加专业地称为"尖峰厚尾"),这意味着极端收益发生的概率要高于用具有相同标准差的正态分布计算出的概率.
很多证据表明,绝大多数市场上的日收益和周收益都表现出分布的"厚尾"性.

### 随机波动率模型
在GARCH模型中，尽管波动率是随机的，却是由股票价格完全确定的。
本节讨论的另一种模型（Heston随机波动率模型），其波动率依赖于另一个布朗运动。
$$
d\log S=(r-q-\frac{1}{2}\sigma^2)dt+\sigma dB_s \tag{4.12a}
$$
其中$B_s$为风险中性概率下的布朗运动，但$\sigma$不再是常数，$\sigma(t)=\sqrt{\nu(t)}$，其中$\nu(t)$服从随机微分方程：
$$
d\nu(t)=\kappa [\theta -\nu(t)]dt+\gamma \sqrt{\nu(t)}dB_\nu \tag{4.12b}
$$
其中$B_\nu$为风险中性概率下的布朗运动，并与$B_s$相关，相关系数为$\rho$。方程中的$\kappa 、\theta 、\gamma$均为正的常数。经验表明，负的收益产生的冲击对未来波动率的影响大于正的收益冲击产生的影响，因此$\rho$应该为负值。
可以将（4.12）离散化为
$$
\log S(t_{i+1})=\log S(t_{i})+\left(r-q-\frac{1}{2}\sigma(t_{i})^{2}\right)\Delta t+\sqrt{v\left(t_{i}\right)}\Delta B_{s},\quad{(4.13a)}
$$

$$
v(t_{i+1})=v(t_{i})+\kappa\left[\theta-v(t_{i})\right]\Delta t+\gamma\sqrt{v(t_{i})}\Delta B_{v}.\quad{(4.13b)}
$$
(4.13b)并不能保证$\nu(t_{i+1}$是非负的。一个简单的修正方法是将$\nu(t_{i+1})$取为（4.13b）右边和0的最大值：
$$
v(t_{i+1}) = \max\left\{0, v(t_{i}) + \kappa[\theta - v(t_{i})]\Delta t + \gamma\sqrt{v(t_{i})}\Delta B_{v}\right\}.\quad(4.13\mathrm{b}')
$$

要对两个相关的布朗运动的变化量$\Delta B_s$和$\Delta B_\nu$进行模拟，简单的方法是产生两个独立的标准正态分布随机变量$z_1$和$z_2$，然后令
$$
	\Delta B_s = \sqrt{\Delta t}z \text{ 和 } \Delta B_\nu = \sqrt{\Delta t}z^*
$$
其中
$$
	z=z_1,z^*=\rho z_1+\sqrt{1-\rho^2}z_2
$$

在模拟GARCH模型或者随机波动率模型时，一种方法是用期权的观测价格计算初始波动率$\sigma(0)$和常数$\kappa$、$\theta$和$\lambda$或者$\kappa$、$\theta$、$\gamma$和$\rho$，让4份（或5份）期权的市场价格等于模型计算的价格，从中计算出这些常数。
或者让更多的观测价格等于模型价格，从计算出的数值中选择均方误差最小的作为要计算的常数值，也可以采用其他拟合优度标准在不同的模型和市场价格之间进行选择。

## 微笑现象的再讨论
GARCH模型和随机波动率模型计算出的资产价格S(T)服从的分布具有“厚尾”性，因此比BS公式计算出来的资产价格更能反映期权微笑现象（为了用期权定价公式再现期权的市场价格，在考虑随机波动率之外，还需在模型中加入资产价格的跳）。

微笑现象：设$\sigma_{am}$表示从一份平价看涨期权（即看涨期权执行价格等于当前标的资产K=S(0)）中计算出的隐含波动率，从具有相同到期日但执行价格明显高于或低于S(0)的期权中计算出的隐含波动率大于$\sigma_{am}$。

执行价格高于S(0)的看涨期权为价外期权，高的隐含波动率意味着市场给K>S(0)情况下的购买权所定的价格，高于用波动率$\sigma_{am}$通过公式计算出的价格。因此，市场赋予$S(T)>S(0)$的概率必定高于以$\sigma_{am}$为波动率计算出来的概率。

执行价格低于$S(0)$的看涨期权为价内期权。特别地，在$K<S(0)$时出售权的高价格，意味着给为资产头寸寻求期权担保的资产拥有者附加一个更高的保险溢价，这与有较大可能发生大损失的市场认识是一致的。这可以解释为一种==“大跌溢价”==。
执行价格低于S(0)时的隐含波动率一般情况下高于执行价格高于S(0)时的隐含波动率，这与市场发生大跌的概率高于大涨的概率相一致（低收益所在的尾部比高收益所在的尾部更厚）。

## 对冲和完全市场
GARCH模型的双重面孔
核心在于指出，对GARCH模型的不同解释，会导致对市场完备性得出完全相反的结论。
+ 解释一：交易频率与模型频率一致（市场是不完备的）
**逻辑**：如果GARCH模型设定的是月频率（即波动率每月更新一次），并且假设投资者只能在每月底那些特定日期交易，那么在这个月内，股价的波动是随机的（对数正态分布）。
**问题**：你在这个月初构建一个投资组合（包含股票和债券），想完美复制一个期权的价值变化。但在这个月当中，你无法调整你的组合。由于期权的价值变化很复杂，你这个“静态”的组合不可能在整个月里都完美跟踪期权的价值。
**结论**：既然无法完美复制（对冲）期权，市场就是不完全的。
**批评**：但这种假设（只能按月交易）很不合理，现实中投资者可以更频繁地交易。
  
+ 解释二：交易是连续的，但波动率在每段时期内是常数（市场是完备的）
**逻辑**：另一种理解是，投资者可以连续交易（随时买卖），而GARCH模型只是描述了波动率在每月初如何根据上个月的数据进行“跳变”。一旦进入这个月，波动率就固定了。
**问题解决**：在这种设定下，虽然波动率每月初会变，但这个变化只取决于股票价格本身（上个月的收益率）。因此，整个模型中唯一的随机来源就是股票价格。
结论：既然只有一种随机因素（股票价格），我们就可以通过连续调整股票头寸（即Delta对冲）来完美对冲期权的风险。所以市场是完备的。
**批评**：这种解释也有点奇怪。它意味着即使一月中旬发生了巨大波动，波动率也要硬等到二月初才会改变，这不符合直觉。
小结：GARCH模型像个“两面派”。按一种（更现实的）解释，市场不完全；按另一种（更理论的）解释，市场是完备的，但逻辑上有点牵强。

随机波动率模型的清晰结论
随机波动率模型直接承认市场是不完全的。因为它明确引入了两个随机因素：
1. 股票价格 S(t)的随机变化。
2. 波动率 σ(t)本身的随机变化。


为什么无法完美对冲？
期权价值 C的变化公式（伊藤引理公式）：
dC = Qdt + (∂C/∂S) dS + (∂C/∂σ) dσ
这个公式告诉我们，期权价值的变化来自三部分：
1. 时间的流逝 ... dt。
2. 股票价格的变化 (∂C/∂S) dS。
3. 波动率本身的变化 (∂C/∂σ) dσ。

对冲组合（只包含股票和债券）只能复制掉第二部分 (∂C/∂S) dS（通过持有 ∂C/∂S份股票）。
但第三部分 (∂C/∂σ) dσ带来的风险，你无法通过对冲基础资产来消除，因为波动率风险本身没有一个直接交易的资产来对冲。
不完备市场的意义：定价不唯一
在不完备市场中，套利理论无法给衍生品定出唯一的价格。因为无法完美复制，就没有“公平”的唯一价格。
这时，就需要引入“均衡”定价。简单说，就是需要考虑市场参与者的风险偏好，来从众多可能的“合理”价格中选出一个。文中提到，在模型里假设一个特定的“风险中性”波动率过程，其实就是暗中选定了一个这样的价格。

不完全市场的一个严重后果，是衍生产品的价值不能通过资产（标的资产和无风险资产）的交易进行复制，因此不能仅由无套利假设来唯一确定。
对风险中性下波动率的特定动态特征进行设定，就意味着从满足无套利假设的风险中性测度中选择特定的概率测度进行定价。