[toc]

# 连续时间模型

## 布朗运动的模拟

```rust
use rand::Rng;
use rand_distr::StandardNormal;
use std::io;

fn main() -> io::Result<()> {
    println!("Enter the length of time(T):");
    let mut t_input = String::new();
    io::stdin().read_line(&mut t_input)?;
    let t: f64 = t_input.trim().parse().expect("please enter a valid number");

    println!("Enter the time perod(N)");
    let mut n_input= String::new();
    io::stdin().read_line(&mut n_input)?;
    let n: usize = n_input
        .trim()
        .parse()
        .expect("please enter a valid integer");

    let dt = t / n as f64;
    let sqrdt = dt.sqrt();

    let mut rng = rand::rng();
    let mut brownian_motion = 0.0;
    for i in 1..=n {
        let time = i as f64 * dt;

        let random_increment:f64 = rng.sample(StandardNormal);
        brownian_motion += random_increment * sqrdt;

        println!("{:<10.3} {:<10.6}", time, brownian_motion);
    }

    Ok(())
}

```



## 二阶变差

==为什么对布朗运动这样一个具有奇怪数学性质的过程感兴趣？==

原因在于资产定价从根本上要涉及到鞅（一个随时间变化的随机变量，其改变量的数学期望总是等于0），这一点已经反映在基本定价公式：
$$
Y(t)=S(t)E_t^S[\frac{Y(T)}{S(T)}]
$$
此外，连续过程（路径是时间的连续函数）比包含瞬间跳跃的过程在数学上更容易处理。更为重要的是，连续过程给出的数学模型比包含跳的过程更容易实现对冲。

因此，我们需要研究连续鞅过程，而任何不等于常数的鞅过程的总变差（该变量的绝对值的和）都是无穷的，这是鞅过程的一个重要结论。所以，在对连续鞅的研究中，不能采用我们熟悉的那些函数。



==在连续鞅过程中，为什么又要将研究集中在布朗运动上呢？==

任何一个连续鞅过程实际上只是布朗运动的一种变换。这个结论可以从Levy定理推出：

<u>一个连续鞅过程是布朗运动的充分必要条件是，在时间区间[0,T]上的二阶变差等于T。</u>

因此，布朗运动是[0,T]上二阶变差等于T的连续鞅过程。这实际上是一种标准化，不同的连续鞅过程会有不同的二阶变差，但经过改变时间尺度总可以把鞅过程转换为布朗运动。此外，很多连续鞅过程都可以看做是由关于布朗运动的“随机积分”构造出来的。

## ito过程

$$
dX(t)=\mu(t)dt+\sigma(t)dB(t) \tag{2.1}
$$

形如上式的Ito过程只有在$\mu=0$时才是鞅过程。

因为过程X变化量的期望值等于$\mu(t)dt$，而一个过程只有在改变量的期望等于0时才能成为鞅过程。这个结论是**推导资产定价公式的基础**。

对于一个Ito过程：
$$
\mu=0 \quad + \quad \mathbb{E}[\int^T_0 \sigma^2(t)dt]<\infty =\text{连续鞅过程} \tag{2.2}
$$
在给定0时信息条件下，时间T处的方差为
$$
var[X(T)]=\mathbb{E}[\int^T_0 \sigma^2(t)dt]<\infty
$$
*不管$\mu$是否等于0*，Ito过程X的二阶变差都以概率1等于
$$
\lim_{N \rightarrow \infty}\sum^N_{i=0}[\Delta X(t_i)]^2=\int^T_0\sigma^2(t)dt \tag{2.3}
$$
这一结论不依赖条件(2.2)。

计算二阶变差的简易法则（不严谨）：
$$
(dt)^2=0 \tag{2.4a}  
$$

$$
(dt)(dB)=0 \tag{2.4b}
$$

$$
(dB)^2=dt \tag{2.4c}
$$

二次变差更严格的数学标记：
$$
<X,X>(T)=\int^T_0 d<X,X>(t)=\int^T_0\sigma^2(t)dt \tag{2.5}
$$

## 伊藤公式

令$Y=g(B)$，则对Y进行二阶泰勒展开：
$$
\Delta Y \approx g'(B(t))\Delta B + \frac{1}{2}g''(B(t))[\Delta B]^2
$$
得到:
$$
\begin{align}
Y(T)&=Y(0)+\sum^N_{i=1}\Delta Y(t_i)\\
&\approx Y(0)+\sum^N_{i=1}g'(B(t_{i-1}))\Delta B(t_{i})+\frac{1}{2}\sum^N_{i=1}g''(B(t_{i-1}))[\Delta B(t_i)]^2
\end{align} \tag{2.8}
$$
取极限，可到伊藤公式：
$$
Y(T)=Y(0)+\int^T_0g'(B(t))dB(t)+\frac{1}{2}\int^T_0g''(B(t))dt \tag{2.7}
$$
